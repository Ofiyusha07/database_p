import mysql.connector
from mysql.connector import Error
import pandas as pd


DB_CONFIG = {
    "host": "127.0.0.1",
    "database": "ecommerce_project",
    "user": "root",
    "password": "Ao869998",  
    "port": 3306
}


def test_connection():
    """Test if we can connect to the database"""
    try:
        print("üîó Attempting to connect to database...")
        print(f"Host: {DB_CONFIG['host']}")
        print(f"Database: {DB_CONFIG['database']}")
        print(f"User: {DB_CONFIG['user']}")
        
        connection = mysql.connector.connect(**DB_CONFIG)
        
        if connection.is_connected():
            print(" SUCCESS! Connected to MySQL database!")
            
            # Get database info
            cursor = connection.cursor()
            cursor.execute("SELECT DATABASE();")
            db_name = cursor.fetchone()[0]
            print(f"Connected to: {db_name}")
            
            # Get MySQL version
            cursor.execute("SELECT VERSION();")
            version = cursor.fetchone()[0]
            print(f"MySQL Version: {version}")
            
            cursor.close()
            connection.close()
            print(" Connection closed.")
            return True
            
    except Error as e:
        print(f"‚ùå ERROR: {e}")
        print("\nüí° Troubleshooting tips:")
        print("1. Is MySQL running?")
        print("2. Is the database name correct?")
        print("3. Are username/password correct?")
        print("4. Try: mysql -u root -p in Command Prompt")
        return False


test_connection()
